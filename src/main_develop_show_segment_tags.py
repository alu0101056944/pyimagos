'''
Universidad de La Laguna
Máster en Ingeniería Informática
Trabajo de Final de Máster
Pyimagos development

Show the radiography segments with a text over it indicating the tag of the
segment. For example, for distal phalanx 1 show a text over the distal phalanx
segment annotating it as "distal phalanx 1".
'''

import numpy as np
import cv2 as cv
import matplotlib.pyplot as plt

from src.main_develop_test_distal_phalanx import (
  create_minimal_image_from_contours,
)

def show_segment_tags(contours, title: str):
  all_points = np.concatenate(contours)
  all_points = np.reshape(all_points, (-1, 2))
  x_values = all_points[:, 0]
  y_values = all_points[:, 1]

  max_x = int(np.max(x_values))
  max_y = int(np.max(y_values))

  blank_image = np.zeros((max_y + 20, max_x + 20), dtype=np.uint8)
  minimal_image, adjusted_contours = create_minimal_image_from_contours(
    blank_image,
    contours,
    padding=60,
  )
  minimal_image = cv.cvtColor(minimal_image, cv.COLOR_GRAY2RGB)
  contours = adjusted_contours

  for i, contour in enumerate(contours):
    color = ((i + 1) * 123 % 256, (i + 1) * 456 % 256, (i + 1) * 789 % 256)
    if len(contour) > 0:
      cv.drawContours(minimal_image, contours, i, color, 1)

    M = cv.moments(contour)
    if M["m00"] != 0: # use centroid
      center_x = int(M["m10"] / M["m00"])
      center_y = int(M["m01"] / M["m00"])
      text_position = (center_x, center_y)
    else: # if too small use bounding box
      x, y, w, h = cv.boundingRect(contour)
      text_position = (x, y - 10)

    cv.putText(
      minimal_image,
      f'{i}',
      text_position,
      cv.FONT_HERSHEY_SIMPLEX,
      fontScale=0.5,
      color=color,
      thickness=1,
      lineType=cv.LINE_AA
    )

  fig = plt.figure()
  plt.imshow(minimal_image)
  plt.title(title)
  plt.axis('off')
  fig.canvas.manager.set_window_title(title)

def case_004():
  contours = [
    np.array([ # ulna (0) 
      [[125, 417]],
      [[123, 419]],
      [[123, 421]],
      [[122, 422]],
      [[122, 426]],
      [[121, 427]],
      [[121, 428]],
      [[122, 429]],
      [[121, 430]],
      [[122, 431]],
      [[122, 432]],
      [[123, 433]],
      [[123, 443]],
      [[124, 444]],
      [[124, 467]],
      [[142, 467]],
      [[142, 466]],
      [[143, 465]],
      [[143, 461]],
      [[144, 460]],
      [[144, 457]],
      [[145, 456]],
      [[145, 455]],
      [[146, 454]],
      [[146, 452]],
      [[147, 451]],
      [[147, 449]],
      [[148, 448]],
      [[148, 447]],
      [[149, 446]],
      [[149, 445]],
      [[150, 444]],
      [[150, 442]],
      [[151, 441]],
      [[151, 433]],
      [[152, 432]],
      [[152, 431]],
      [[151, 430]],
      [[151, 427]],
      [[148, 424]],
      [[147, 424]],
      [[146, 423]],
      [[144, 423]],
      [[143, 422]],
      [[142, 423]],
      [[139, 423]],
      [[138, 424]],
      [[137, 424]],
      [[136, 425]],
      [[134, 425]],
      [[131, 422]],
      [[131, 421]],
      [[130, 421]],
      [[129, 420]],
      [[129, 419]],
      [[127, 417]]],
      dtype=np.int32
    ),
    np.array([ # radio (1) 
      [[203, 404]],
      [[202, 405]],
      [[199, 405]],
      [[197, 407]],
      [[196, 407]],
      [[194, 409]],
      [[193, 409]],
      [[192, 410]],
      [[191, 410]],
      [[190, 411]],
      [[188, 411]],
      [[190, 411]],
      [[191, 410]],
      [[193, 410]],
      [[194, 409]],
      [[195, 409]],
      [[197, 407]],
      [[198, 407]],
      [[200, 405]],
      [[202, 405]],
      [[203, 404]],
      [[208, 409]],
      [[208, 421]],
      [[207, 422]],
      [[207, 428]],
      [[206, 429]],
      [[206, 432]],
      [[205, 433]],
      [[204, 433]],
      [[204, 434]],
      [[203, 435]],
      [[204, 436]],
      [[204, 439]],
      [[203, 440]],
      [[203, 443]],
      [[202, 444]],
      [[202, 447]],
      [[201, 448]],
      [[201, 450]],
      [[200, 451]],
      [[200, 454]],
      [[199, 455]],
      [[199, 457]],
      [[198, 458]],
      [[198, 461]],
      [[197, 462]],
      [[197, 464]],
      [[196, 465]],
      [[196, 466]],
      [[195, 467]],
      [[163, 467]],
      [[162, 466]],
      [[162, 460]],
      [[161, 459]],
      [[161, 454]],
      [[160, 453]],
      [[160, 450]],
      [[159, 449]],
      [[159, 447]],
      [[158, 446]],
      [[158, 445]],
      [[157, 444]],
      [[157, 442]],
      [[156, 441]],
      [[156, 439]],
      [[154, 437]],
      [[154, 432]],
      [[155, 431]],
      [[155, 423]],
      [[156, 422]],
      [[156, 421]],
      [[158, 419]],
      [[159, 419]],
      [[160, 418]],
      [[161, 418]],
      [[162, 417]],
      [[165, 417]],
      [[166, 416]],
      [[169, 416]],
      [[170, 415]],
      [[177, 415]],
      [[178, 414]],
      [[184, 414]],
      [[185, 413]],
      [[187, 413]],
      [[185, 413]],
      [[184, 414]],
      [[178, 414]],
      [[177, 415]],
      [[170, 415]],
      [[169, 416]],
      [[166, 416]],
      [[165, 417]],
      [[162, 417]],
      [[161, 418]],
      [[160, 418]],
      [[159, 419]],
      [[158, 419]],
      [[156, 421]],
      [[156, 422]],
      [[155, 423]],
      [[155, 430]],
      [[154, 431]],
      [[154, 437]],
      [[155, 438]],
      [[155, 439]],
      [[156, 440]],
      [[156, 441]],
      [[157, 442]],
      [[157, 444]],
      [[158, 445]],
      [[158, 446]],
      [[159, 447]],
      [[159, 449]],
      [[160, 450]],
      [[160, 453]],
      [[161, 454]],
      [[161, 459]],
      [[162, 460]],
      [[162, 467]],
      [[196, 467]],
      [[196, 465]],
      [[197, 464]],
      [[197, 462]],
      [[198, 461]],
      [[198, 458]],
      [[199, 457]],
      [[199, 455]],
      [[200, 454]],
      [[200, 451]],
      [[201, 450]],
      [[201, 448]],
      [[202, 447]],
      [[202, 444]],
      [[203, 443]],
      [[203, 440]],
      [[204, 439]],
      [[204, 436]],
      [[203, 435]],
      [[206, 432]],
      [[206, 429]],
      [[207, 428]],
      [[207, 422]],
      [[208, 421]],
      [[208, 409]],
      [[207, 408]],
      [[207, 407]],
      [[204, 404]]],
      dtype=np.int32
    ),
    np.array([ # metacarpal 5 (2) 
      [[269, 308]],
      [[268, 309]],
      [[267, 309]],
      [[266, 310]],
      [[265, 310]],
      [[263, 312]],
      [[262, 312]],
      [[260, 314]],
      [[260, 317]],
      [[261, 318]],
      [[261, 321]],
      [[260, 322]],
      [[260, 324]],
      [[259, 325]],
      [[259, 326]],
      [[258, 327]],
      [[258, 328]],
      [[257, 329]],
      [[257, 330]],
      [[256, 331]],
      [[256, 332]],
      [[254, 334]],
      [[254, 335]],
      [[251, 338]],
      [[251, 339]],
      [[248, 342]],
      [[248, 343]],
      [[237, 354]],
      [[236, 354]],
      [[234, 356]],
      [[233, 356]],
      [[231, 358]],
      [[230, 358]],
      [[229, 359]],
      [[228, 359]],
      [[227, 360]],
      [[226, 360]],
      [[225, 361]],
      [[223, 361]],
      [[222, 362]],
      [[220, 362]],
      [[218, 364]],
      [[218, 369]],
      [[219, 370]],
      [[219, 372]],
      [[222, 375]],
      [[222, 376]],
      [[223, 377]],
      [[223, 378]],
      [[224, 379]],
      [[224, 380]],
      [[226, 382]],
      [[227, 382]],
      [[228, 383]],
      [[239, 383]],
      [[242, 380]],
      [[242, 379]],
      [[243, 378]],
      [[243, 377]],
      [[245, 375]],
      [[245, 374]],
      [[247, 372]],
      [[247, 371]],
      [[248, 370]],
      [[248, 369]],
      [[249, 368]],
      [[249, 367]],
      [[251, 365]],
      [[251, 364]],
      [[253, 362]],
      [[253, 361]],
      [[258, 356]],
      [[258, 355]],
      [[262, 351]],
      [[262, 350]],
      [[266, 346]],
      [[266, 345]],
      [[271, 340]],
      [[271, 339]],
      [[285, 325]],
      [[285, 323]],
      [[286, 322]],
      [[286, 319]],
      [[284, 317]],
      [[282, 317]],
      [[280, 315]],
      [[280, 314]],
      [[276, 310]],
      [[275, 310]],
      [[274, 309]],
      [[272, 309]],
      [[271, 308]]],
      dtype=np.int32
    ),
    np.array([ # proximal 5 (3) 
      [[306, 259]],
      [[304, 261]],
      [[303, 261]],
      [[303, 262]],
      [[302, 263]],
      [[302, 270]],
      [[301, 271]],
      [[301, 272]],
      [[300, 273]],
      [[300, 274]],
      [[299, 275]],
      [[299, 276]],
      [[296, 279]],
      [[296, 280]],
      [[292, 284]],
      [[291, 284]],
      [[287, 288]],
      [[286, 288]],
      [[284, 290]],
      [[283, 290]],
      [[281, 292]],
      [[280, 292]],
      [[276, 296]],
      [[275, 295]],
      [[272, 295]],
      [[270, 297]],
      [[270, 303]],
      [[271, 304]],
      [[272, 304]],
      [[273, 305]],
      [[274, 305]],
      [[279, 310]],
      [[280, 310]],
      [[282, 312]],
      [[283, 312]],
      [[286, 315]],
      [[287, 315]],
      [[290, 312]],
      [[290, 310]],
      [[292, 308]],
      [[292, 307]],
      [[293, 306]],
      [[293, 305]],
      [[294, 304]],
      [[294, 303]],
      [[295, 302]],
      [[295, 301]],
      [[297, 299]],
      [[297, 298]],
      [[299, 296]],
      [[299, 295]],
      [[301, 293]],
      [[301, 292]],
      [[304, 289]],
      [[304, 288]],
      [[314, 278]],
      [[314, 277]],
      [[315, 276]],
      [[316, 276]],
      [[319, 273]],
      [[319, 268]],
      [[318, 267]],
      [[318, 266]],
      [[316, 264]],
      [[313, 264]],
      [[312, 263]],
      [[312, 262]],
      [[311, 261]],
      [[310, 261]],
      [[308, 259]]],
      dtype=np.int32
    ),
    np.array([ # metacarpal 1 (4) 
      [[108, 257]],
      [[107, 258]],
      [[105, 258]],
      [[104, 259]],
      [[103, 259]],
      [[102, 260]],
      [[102, 261]],
      [[101, 262]],
      [[101, 270]],
      [[102, 271]],
      [[102, 274]],
      [[103, 275]],
      [[103, 276]],
      [[104, 277]],
      [[104, 278]],
      [[105, 279]],
      [[105, 280]],
      [[106, 281]],
      [[106, 283]],
      [[107, 284]],
      [[107, 285]],
      [[108, 286]],
      [[108, 287]],
      [[109, 288]],
      [[109, 289]],
      [[110, 290]],
      [[110, 292]],
      [[111, 293]],
      [[111, 294]],
      [[112, 295]],
      [[112, 297]],
      [[113, 298]],
      [[113, 299]],
      [[114, 300]],
      [[114, 302]],
      [[115, 303]],
      [[115, 305]],
      [[116, 306]],
      [[116, 308]],
      [[117, 309]],
      [[117, 311]],
      [[118, 312]],
      [[118, 314]],
      [[119, 315]],
      [[119, 318]],
      [[120, 319]],
      [[120, 322]],
      [[121, 323]],
      [[121, 330]],
      [[122, 331]],
      [[122, 337]],
      [[123, 338]],
      [[123, 342]],
      [[124, 343]],
      [[124, 345]],
      [[125, 346]],
      [[125, 348]],
      [[126, 349]],
      [[126, 350]],
      [[127, 351]],
      [[127, 353]],
      [[128, 354]],
      [[128, 355]],
      [[129, 356]],
      [[129, 357]],
      [[130, 358]],
      [[131, 358]],
      [[132, 359]],
      [[133, 358]],
      [[134, 358]],
      [[137, 355]],
      [[138, 355]],
      [[141, 352]],
      [[142, 352]],
      [[145, 349]],
      [[146, 349]],
      [[148, 347]],
      [[148, 346]],
      [[146, 344]],
      [[146, 343]],
      [[145, 342]],
      [[145, 341]],
      [[141, 337]],
      [[141, 336]],
      [[140, 335]],
      [[140, 334]],
      [[138, 332]],
      [[138, 331]],
      [[137, 330]],
      [[137, 329]],
      [[135, 327]],
      [[135, 325]],
      [[134, 324]],
      [[134, 322]],
      [[133, 321]],
      [[133, 320]],
      [[132, 319]],
      [[132, 318]],
      [[131, 317]],
      [[131, 315]],
      [[130, 314]],
      [[130, 313]],
      [[129, 312]],
      [[129, 309]],
      [[128, 308]],
      [[128, 306]],
      [[127, 305]],
      [[127, 303]],
      [[126, 302]],
      [[126, 300]],
      [[125, 299]],
      [[125, 297]],
      [[124, 296]],
      [[124, 294]],
      [[123, 293]],
      [[123, 291]],
      [[122, 290]],
      [[122, 287]],
      [[121, 286]],
      [[121, 283]],
      [[120, 282]],
      [[120, 278]],
      [[119, 277]],
      [[119, 274]],
      [[120, 273]],
      [[120, 272]],
      [[121, 271]],
      [[121, 265]],
      [[120, 264]],
      [[120, 262]],
      [[119, 261]],
      [[119, 260]],
      [[117, 258]],
      [[115, 258]],
      [[114, 257]]],
      dtype=np.int32
    ),
    np.array([ # metacarpal 2 (5) 
      [[138, 242]],
      [[137, 243]],
      [[135, 243]],
      [[133, 245]],
      [[132, 245]],
      [[131, 246]],
      [[131, 252]],
      [[132, 253]],
      [[132, 257]],
      [[133, 258]],
      [[133, 259]],
      [[134, 260]],
      [[134, 265]],
      [[135, 266]],
      [[135, 269]],
      [[136, 270]],
      [[136, 275]],
      [[137, 276]],
      [[137, 279]],
      [[138, 280]],
      [[138, 283]],
      [[139, 284]],
      [[139, 287]],
      [[140, 288]],
      [[140, 291]],
      [[141, 292]],
      [[141, 295]],
      [[142, 296]],
      [[142, 299]],
      [[143, 300]],
      [[143, 304]],
      [[144, 305]],
      [[144, 309]],
      [[145, 310]],
      [[145, 315]],
      [[146, 316]],
      [[146, 331]],
      [[145, 332]],
      [[145, 334]],
      [[144, 335]],
      [[144, 337]],
      [[145, 338]],
      [[147, 338]],
      [[148, 339]],
      [[153, 339]],
      [[154, 340]],
      [[160, 340]],
      [[161, 341]],
      [[164, 341]],
      [[164, 334]],
      [[163, 333]],
      [[163, 329]],
      [[162, 328]],
      [[162, 327]],
      [[161, 326]],
      [[161, 325]],
      [[160, 324]],
      [[160, 323]],
      [[159, 322]],
      [[159, 321]],
      [[158, 320]],
      [[158, 318]],
      [[157, 317]],
      [[157, 314]],
      [[156, 313]],
      [[156, 310]],
      [[155, 309]],
      [[155, 304]],
      [[154, 303]],
      [[154, 297]],
      [[153, 296]],
      [[153, 289]],
      [[152, 288]],
      [[152, 281]],
      [[151, 280]],
      [[151, 272]],
      [[150, 271]],
      [[150, 265]],
      [[151, 264]],
      [[151, 255]],
      [[152, 254]],
      [[152, 248]],
      [[148, 244]],
      [[147, 244]],
      [[146, 243]],
      [[143, 243]],
      [[142, 242]]],
      dtype=np.int32
    ),
    np.array([ # metacarpal 4 (6) 
      [[213, 232]],
      [[212, 233]],
      [[209, 233]],
      [[207, 235]],
      [[207, 237]],
      [[206, 238]],
      [[206, 239]],
      [[205, 240]],
      [[205, 242]],
      [[203, 244]],
      [[203, 246]],
      [[202, 247]],
      [[202, 248]],
      [[203, 249]],
      [[203, 262]],
      [[202, 263]],
      [[202, 274]],
      [[201, 275]],
      [[201, 288]],
      [[200, 289]],
      [[200, 304]],
      [[199, 305]],
      [[199, 317]],
      [[198, 318]],
      [[198, 323]],
      [[197, 324]],
      [[197, 328]],
      [[196, 329]],
      [[196, 331]],
      [[195, 332]],
      [[195, 334]],
      [[194, 335]],
      [[194, 337]],
      [[193, 338]],
      [[193, 339]],
      [[192, 340]],
      [[192, 341]],
      [[191, 342]],
      [[191, 344]],
      [[190, 345]],
      [[190, 347]],
      [[189, 348]],
      [[189, 350]],
      [[190, 350]],
      [[191, 351]],
      [[192, 351]],
      [[193, 352]],
      [[194, 352]],
      [[195, 353]],
      [[197, 353]],
      [[198, 354]],
      [[199, 354]],
      [[200, 355]],
      [[201, 355]],
      [[202, 356]],
      [[204, 356]],
      [[205, 357]],
      [[206, 357]],
      [[207, 358]],
      [[209, 358]],
      [[210, 359]],
      [[211, 359]],
      [[212, 360]],
      [[213, 360]],
      [[214, 361]],
      [[215, 361]],
      [[215, 360]],
      [[214, 359]],
      [[214, 358]],
      [[215, 357]],
      [[215, 353]],
      [[214, 352]],
      [[215, 351]],
      [[215, 348]],
      [[214, 347]],
      [[214, 343]],
      [[213, 342]],
      [[213, 339]],
      [[212, 338]],
      [[212, 314]],
      [[213, 313]],
      [[213, 306]],
      [[214, 305]],
      [[214, 298]],
      [[215, 297]],
      [[215, 293]],
      [[216, 292]],
      [[216, 288]],
      [[217, 287]],
      [[217, 284]],
      [[218, 283]],
      [[218, 280]],
      [[219, 279]],
      [[219, 277]],
      [[220, 276]],
      [[220, 273]],
      [[221, 272]],
      [[221, 270]],
      [[222, 269]],
      [[222, 265]],
      [[223, 264]],
      [[223, 262]],
      [[224, 261]],
      [[224, 260]],
      [[227, 257]],
      [[228, 257]],
      [[229, 256]],
      [[229, 254]],
      [[230, 253]],
      [[230, 248]],
      [[229, 247]],
      [[229, 244]],
      [[228, 243]],
      [[228, 241]],
      [[226, 241]],
      [[225, 240]],
      [[225, 239]],
      [[224, 238]],
      [[224, 236]],
      [[223, 235]],
      [[222, 235]],
      [[221, 234]],
      [[220, 234]],
      [[219, 233]],
      [[216, 233]],
      [[215, 232]]],
      dtype=np.int32
    ),
    np.array([ # metacarpal 3 (7) 
      [[173, 229]],
      [[172, 230]],
      [[168, 230]],
      [[167, 231]],
      [[166, 231]],
      [[164, 233]],
      [[164, 245]],
      [[163, 246]],
      [[163, 253]],
      [[164, 254]],
      [[164, 260]],
      [[165, 261]],
      [[165, 275]],
      [[166, 276]],
      [[166, 284]],
      [[167, 285]],
      [[167, 291]],
      [[168, 292]],
      [[168, 299]],
      [[169, 300]],
      [[169, 315]],
      [[170, 316]],
      [[170, 319]],
      [[169, 320]],
      [[169, 328]],
      [[168, 329]],
      [[168, 333]],
      [[170, 335]],
      [[171, 335]],
      [[174, 338]],
      [[175, 338]],
      [[179, 342]],
      [[180, 342]],
      [[183, 345]],
      [[184, 345]],
      [[186, 347]],
      [[186, 341]],
      [[187, 340]],
      [[187, 331]],
      [[186, 330]],
      [[186, 325]],
      [[185, 324]],
      [[185, 320]],
      [[184, 319]],
      [[184, 315]],
      [[183, 314]],
      [[183, 304]],
      [[182, 303]],
      [[182, 279]],
      [[183, 278]],
      [[183, 266]],
      [[184, 265]],
      [[184, 260]],
      [[185, 259]],
      [[185, 256]],
      [[186, 255]],
      [[186, 254]],
      [[187, 253]],
      [[187, 252]],
      [[189, 250]],
      [[190, 250]],
      [[190, 243]],
      [[189, 242]],
      [[189, 240]],
      [[188, 239]],
      [[188, 237]],
      [[183, 232]],
      [[182, 232]],
      [[181, 231]],
      [[179, 231]],
      [[178, 230]],
      [[174, 230]]],
      dtype=np.int32
    ),
    np.array([ # distal 5 (8)
      [[336, 220]],
      [[335, 221]],
      [[334, 221]],
      [[333, 222]],
      [[332, 222]],
      [[330, 224]],
      [[330, 225]],
      [[329, 226]],
      [[329, 227]],
      [[328, 228]],
      [[328, 229]],
      [[327, 230]],
      [[327, 231]],
      [[324, 234]],
      [[324, 235]],
      [[322, 237]],
      [[322, 238]],
      [[319, 241]],
      [[319, 242]],
      [[317, 244]],
      [[317, 245]],
      [[315, 247]],
      [[314, 247]],
      [[313, 248]],
      [[312, 248]],
      [[310, 250]],
      [[309, 250]],
      [[309, 251]],
      [[308, 252]],
      [[308, 255]],
      [[309, 256]],
      [[309, 257]],
      [[311, 259]],
      [[312, 259]],
      [[315, 262]],
      [[318, 262]],
      [[319, 263]],
      [[323, 263]],
      [[323, 258]],
      [[324, 257]],
      [[324, 253]],
      [[325, 252]],
      [[325, 250]],
      [[326, 249]],
      [[326, 247]],
      [[328, 245]],
      [[328, 244]],
      [[329, 243]],
      [[329, 241]],
      [[331, 239]],
      [[331, 238]],
      [[332, 237]],
      [[332, 236]],
      [[333, 235]],
      [[333, 234]],
      [[335, 232]],
      [[335, 231]],
      [[337, 229]],
      [[337, 228]],
      [[341, 224]],
      [[341, 221]],
      [[340, 220]]],
      dtype=np.int32
    ),
    np.array([ # proximal 1 (9)
      [[100, 191]],
      [[ 99, 192]],
      [[ 98, 192]],
      [[ 97, 193]],
      [[ 95, 193]],
      [[ 94, 194]],
      [[ 91, 194]],
      [[ 91, 195]],
      [[ 90, 196]],
      [[ 90, 199]],
      [[ 91, 200]],
      [[ 91, 202]],
      [[ 92, 203]],
      [[ 92, 205]],
      [[ 93, 206]],
      [[ 93, 207]],
      [[ 94, 208]],
      [[ 94, 210]],
      [[ 95, 211]],
      [[ 95, 216]],
      [[ 96, 217]],
      [[ 96, 223]],
      [[ 97, 224]],
      [[ 97, 233]],
      [[ 98, 234]],
      [[ 98, 241]],
      [[ 97, 242]],
      [[ 97, 247]],
      [[ 96, 248]],
      [[ 96, 251]],
      [[ 95, 252]],
      [[ 95, 254]],
      [[ 96, 255]],
      [[ 96, 256]],
      [[ 97, 257]],
      [[102, 257]],
      [[103, 256]],
      [[104, 256]],
      [[105, 255]],
      [[108, 255]],
      [[109, 254]],
      [[118, 254]],
      [[119, 253]],
      [[119, 248]],
      [[118, 247]],
      [[118, 246]],
      [[117, 245]],
      [[117, 244]],
      [[115, 242]],
      [[115, 241]],
      [[114, 240]],
      [[114, 239]],
      [[112, 237]],
      [[112, 236]],
      [[111, 235]],
      [[111, 233]],
      [[110, 232]],
      [[110, 230]],
      [[109, 229]],
      [[109, 227]],
      [[108, 226]],
      [[108, 223]],
      [[107, 222]],
      [[107, 219]],
      [[106, 218]],
      [[106, 214]],
      [[105, 213]],
      [[105, 207]],
      [[104, 206]],
      [[104, 203]],
      [[105, 202]],
      [[105, 197]],
      [[104, 196]],
      [[104, 193]],
      [[102, 191]]],
      dtype=np.int32
    ),
    np.array([ # proximal 2 (10)
      [[138, 158]],
      [[137, 159]],
      [[128, 159]],
      [[127, 160]],
      [[127, 171]],
      [[128, 172]],
      [[128, 173]],
      [[129, 174]],
      [[129, 177]],
      [[130, 178]],
      [[130, 198]],
      [[131, 199]],
      [[131, 211]],
      [[132, 212]],
      [[132, 218]],
      [[131, 219]],
      [[131, 225]],
      [[130, 226]],
      [[130, 229]],
      [[129, 230]],
      [[129, 232]],
      [[128, 233]],
      [[128, 235]],
      [[127, 236]],
      [[127, 237]],
      [[128, 238]],
      [[128, 239]],
      [[129, 240]],
      [[129, 241]],
      [[133, 241]],
      [[134, 240]],
      [[137, 240]],
      [[138, 239]],
      [[143, 239]],
      [[144, 240]],
      [[150, 240]],
      [[151, 239]],
      [[151, 238]],
      [[152, 237]],
      [[152, 232]],
      [[151, 231]],
      [[151, 230]],
      [[150, 229]],
      [[150, 227]],
      [[149, 226]],
      [[149, 224]],
      [[148, 223]],
      [[148, 222]],
      [[147, 221]],
      [[147, 218]],
      [[146, 217]],
      [[146, 213]],
      [[145, 212]],
      [[145, 203]],
      [[144, 202]],
      [[144, 190]],
      [[143, 189]],
      [[143, 170]],
      [[144, 169]],
      [[144, 168]],
      [[143, 167]],
      [[144, 166]],
      [[143, 165]],
      [[143, 160]],
      [[141, 158]]],
      dtype=np.int32
    ),
    np.array([ # medial 1 (11)
      [[ 93, 155]],
      [[ 92, 156]],
      [[ 89, 156]],
      [[ 88, 157]],
      [[ 82, 157]],
      [[ 82, 163]],
      [[ 83, 164]],
      [[ 83, 165]],
      [[ 85, 167]],
      [[ 85, 168]],
      [[ 86, 169]],
      [[ 86, 176]],
      [[ 87, 177]],
      [[ 87, 192]],
      [[ 93, 192]],
      [[ 94, 191]],
      [[ 96, 191]],
      [[ 97, 190]],
      [[ 98, 190]],
      [[ 99, 189]],
      [[102, 189]],
      [[103, 188]],
      [[103, 185]],
      [[101, 183]],
      [[101, 182]],
      [[ 99, 180]],
      [[ 99, 179]],
      [[ 97, 177]],
      [[ 97, 176]],
      [[ 96, 175]],
      [[ 96, 172]],
      [[ 95, 171]],
      [[ 95, 156]],
      [[ 94, 155]]],
      dtype=np.int32
    ),
    np.array([ # proximal 4 (12) 
      [[208, 149]],
      [[207, 150]],
      [[198, 150]],
      [[197, 151]],
      [[197, 162]],
      [[198, 163]],
      [[198, 165]],
      [[199, 166]],
      [[199, 171]],
      [[200, 172]],
      [[200, 184]],
      [[201, 185]],
      [[201, 192]],
      [[202, 193]],
      [[202, 205]],
      [[203, 206]],
      [[203, 213]],
      [[202, 214]],
      [[202, 220]],
      [[201, 221]],
      [[201, 224]],
      [[200, 225]],
      [[201, 226]],
      [[200, 227]],
      [[201, 228]],
      [[201, 231]],
      [[202, 231]],
      [[203, 232]],
      [[204, 232]],
      [[205, 231]],
      [[207, 231]],
      [[208, 230]],
      [[209, 230]],
      [[210, 229]],
      [[219, 229]],
      [[220, 230]],
      [[223, 230]],
      [[224, 229]],
      [[226, 229]],
      [[227, 228]],
      [[228, 228]],
      [[228, 226]],
      [[229, 225]],
      [[229, 223]],
      [[228, 222]],
      [[228, 220]],
      [[225, 217]],
      [[225, 216]],
      [[224, 215]],
      [[224, 214]],
      [[223, 213]],
      [[223, 211]],
      [[221, 209]],
      [[221, 207]],
      [[220, 206]],
      [[220, 204]],
      [[219, 203]],
      [[219, 200]],
      [[218, 199]],
      [[218, 195]],
      [[217, 194]],
      [[217, 190]],
      [[216, 189]],
      [[216, 184]],
      [[215, 183]],
      [[215, 181]],
      [[214, 180]],
      [[214, 164]],
      [[215, 163]],
      [[215, 153]],
      [[213, 151]],
      [[213, 150]],
      [[210, 150]],
      [[209, 149]]],
      dtype=np.int32
    ),
    np.array([ # proximal 3 (13)
      [[173, 137]],
      [[172, 138]],
      [[170, 138]],
      [[168, 140]],
      [[165, 140]],
      [[164, 139]],
      [[159, 139]],
      [[159, 146]],
      [[158, 147]],
      [[158, 148]],
      [[159, 149]],
      [[159, 153]],
      [[160, 154]],
      [[160, 159]],
      [[161, 160]],
      [[161, 182]],
      [[162, 183]],
      [[162, 198]],
      [[163, 199]],
      [[163, 205]],
      [[162, 206]],
      [[162, 214]],
      [[161, 215]],
      [[161, 217]],
      [[160, 218]],
      [[160, 220]],
      [[159, 221]],
      [[159, 222]],
      [[160, 223]],
      [[159, 224]],
      [[159, 225]],
      [[160, 226]],
      [[160, 227]],
      [[161, 228]],
      [[166, 228]],
      [[167, 227]],
      [[171, 227]],
      [[172, 226]],
      [[174, 226]],
      [[175, 227]],
      [[185, 227]],
      [[187, 225]],
      [[187, 218]],
      [[185, 216]],
      [[185, 214]],
      [[184, 213]],
      [[184, 212]],
      [[182, 210]],
      [[182, 208]],
      [[181, 207]],
      [[181, 205]],
      [[180, 204]],
      [[180, 202]],
      [[179, 201]],
      [[179, 197]],
      [[178, 196]],
      [[178, 189]],
      [[177, 188]],
      [[177, 179]],
      [[176, 178]],
      [[176, 168]],
      [[175, 167]],
      [[175, 153]],
      [[177, 151]],
      [[177, 145]],
      [[176, 144]],
      [[176, 141]],
      [[175, 140]],
      [[175, 139]]],
      dtype=np.int32
    ),
    np.array([ # distal 1 (14)
      [[ 84, 122]],
      [[ 83, 123]],
      [[ 82, 123]],
      [[ 81, 124]],
      [[ 81, 130]],
      [[ 82, 131]],
      [[ 82, 136]],
      [[ 83, 137]],
      [[ 83, 146]],
      [[ 82, 147]],
      [[ 82, 148]],
      [[ 81, 149]],
      [[ 81, 154]],
      [[ 82, 155]],
      [[ 87, 155]],
      [[ 88, 154]],
      [[ 91, 154]],
      [[ 92, 153]],
      [[ 93, 153]],
      [[ 94, 152]],
      [[ 94, 151]],
      [[ 95, 150]],
      [[ 94, 149]],
      [[ 94, 148]],
      [[ 91, 145]],
      [[ 91, 143]],
      [[ 89, 141]],
      [[ 89, 138]],
      [[ 88, 137]],
      [[ 88, 130]],
      [[ 89, 129]],
      [[ 89, 126]],
      [[ 88, 125]],
      [[ 88, 124]],
      [[ 86, 122]]],
      dtype=np.int32
    ),
    np.array([ # medial 2 (15)
      [[127, 107]],
      [[126, 108]],
      [[125, 108]],
      [[125, 110]],
      [[124, 111]],
      [[124, 115]],
      [[125, 116]],
      [[125, 118]],
      [[126, 119]],
      [[126, 123]],
      [[127, 124]],
      [[127, 130]],
      [[126, 131]],
      [[126, 140]],
      [[125, 141]],
      [[125, 151]],
      [[124, 152]],
      [[124, 156]],
      [[125, 157]],
      [[127, 157]],
      [[128, 156]],
      [[132, 156]],
      [[133, 157]],
      [[134, 156]],
      [[138, 156]],
      [[139, 155]],
      [[143, 155]],
      [[143, 150]],
      [[142, 149]],
      [[142, 146]],
      [[141, 145]],
      [[141, 141]],
      [[140, 140]],
      [[140, 136]],
      [[139, 135]],
      [[139, 131]],
      [[138, 130]],
      [[138, 119]],
      [[139, 118]],
      [[139, 117]],
      [[140, 116]],
      [[140, 111]],
      [[139, 110]],
      [[139, 108]],
      [[138, 107]],
      [[133, 107]],
      [[132, 108]],
      [[129, 108]],
      [[128, 107]]],
      dtype=np.int32
    ),
    np.array([ # medial 4 (16)
      [[202, 103]],
      [[201, 104]],
      [[199, 104]],
      [[198, 105]],
      [[194, 105]],
      [[194, 107]],
      [[193, 108]],
      [[193, 110]],
      [[194, 111]],
      [[194, 114]],
      [[195, 115]],
      [[195, 117]],
      [[196, 118]],
      [[196, 140]],
      [[195, 141]],
      [[195, 148]],
      [[196, 148]],
      [[197, 147]],
      [[201, 147]],
      [[202, 148]],
      [[205, 148]],
      [[206, 147]],
      [[208, 147]],
      [[209, 146]],
      [[211, 146]],
      [[212, 147]],
      [[213, 147]],
      [[215, 145]],
      [[215, 142]],
      [[214, 141]],
      [[214, 140]],
      [[213, 139]],
      [[213, 138]],
      [[212, 137]],
      [[212, 133]],
      [[211, 132]],
      [[211, 131]],
      [[210, 130]],
      [[210, 128]],
      [[208, 126]],
      [[208, 122]],
      [[207, 121]],
      [[207, 113]],
      [[208, 112]],
      [[208, 105]],
      [[207, 104]],
      [[207, 103]]],
      dtype=np.int32
    ),
    np.array([ # medial 3 (17)
      [[163,  82]],
      [[162,  83]],
      [[157,  83]],
      [[156,  84]],
      [[156,  87]],
      [[155,  88]],
      [[155,  92]],
      [[156,  93]],
      [[156,  96]],
      [[157,  97]],
      [[157, 102]],
      [[158, 103]],
      [[158, 106]],
      [[157, 107]],
      [[157, 125]],
      [[156, 126]],
      [[156, 131]],
      [[155, 132]],
      [[155, 134]],
      [[156, 135]],
      [[156, 136]],
      [[168, 136]],
      [[169, 135]],
      [[176, 135]],
      [[177, 134]],
      [[177, 132]],
      [[178, 131]],
      [[177, 130]],
      [[177, 129]],
      [[175, 127]],
      [[175, 122]],
      [[174, 121]],
      [[174, 119]],
      [[173, 118]],
      [[173, 116]],
      [[172, 115]],
      [[172, 112]],
      [[171, 111]],
      [[171, 109]],
      [[170, 108]],
      [[170, 104]],
      [[169, 103]],
      [[169,  96]],
      [[170,  95]],
      [[170,  93]],
      [[171,  92]],
      [[171,  91]],
      [[172,  90]],
      [[172,  87]],
      [[171,  86]],
      [[171,  85]],
      [[170,  84]],
      [[170,  83]],
      [[169,  82]]],
      dtype=np.int32
    ),
    np.array([ # distal 4 (18)
      [[190,  70]],
      [[190,  71]],
      [[188,  73]],
      [[188,  77]],
      [[189,  78]],
      [[189,  80]],
      [[190,  81]],
      [[190,  83]],
      [[191,  84]],
      [[191,  87]],
      [[192,  88]],
      [[192,  95]],
      [[191,  96]],
      [[191,  99]],
      [[192, 100]],
      [[192, 102]],
      [[193, 102]],
      [[194, 103]],
      [[195, 102]],
      [[199, 102]],
      [[200, 101]],
      [[201, 101]],
      [[202, 100]],
      [[205, 100]],
      [[206,  99]],
      [[206,  96]],
      [[205,  95]],
      [[205,  94]],
      [[204,  93]],
      [[204,  92]],
      [[201,  89]],
      [[201,  88]],
      [[200,  87]],
      [[200,  86]],
      [[199,  85]],
      [[199,  84]],
      [[198,  83]],
      [[198,  80]],
      [[197,  79]],
      [[197,  74]],
      [[196,  73]],
      [[196,  72]],
      [[194,  70]]],
      dtype=np.int32
    ),
    np.array([ # distal 2 (19)
      [[130,  70]],
      [[129,  71]],
      [[128,  71]],
      [[126,  73]],
      [[126,  74]],
      [[125,  75]],
      [[125,  78]],
      [[126,  79]],
      [[126,  82]],
      [[127,  83]],
      [[127,  86]],
      [[128,  87]],
      [[128,  90]],
      [[127,  91]],
      [[127,  94]],
      [[126,  95]],
      [[126,  97]],
      [[125,  98]],
      [[125,  99]],
      [[124, 100]],
      [[124, 102]],
      [[125, 103]],
      [[124, 104]],
      [[125, 105]],
      [[137, 105]],
      [[138, 104]],
      [[140, 104]],
      [[140, 100]],
      [[139,  99]],
      [[139,  98]],
      [[137,  96]],
      [[137,  94]],
      [[136,  93]],
      [[136,  90]],
      [[135,  89]],
      [[135,  81]],
      [[136,  80]],
      [[136,  75]],
      [[135,  74]],
      [[135,  72]],
      [[134,  71]],
      [[131,  71]]],
      dtype=np.int32
    ),
    np.array([ # distal 3 (20)
      [[156,  46]],
      [[153,  49]],
      [[153,  53]],
      [[155,  55]],
      [[155,  61]],
      [[156,  62]],
      [[156,  70]],
      [[155,  71]],
      [[155,  73]],
      [[154,  74]],
      [[154,  80]],
      [[155,  80]],
      [[156,  81]],
      [[158,  81]],
      [[159,  80]],
      [[164,  80]],
      [[165,  79]],
      [[168,  79]],
      [[169,  78]],
      [[170,  78]],
      [[170,  74]],
      [[168,  72]],
      [[168,  71]],
      [[167,  70]],
      [[167,  69]],
      [[166,  68]],
      [[166,  67]],
      [[165,  66]],
      [[165,  64]],
      [[164,  63]],
      [[164,  58]],
      [[163,  57]],
      [[164,  56]],
      [[164,  51]],
      [[163,  50]],
      [[163,  48]],
      [[162,  47]],
      [[161,  47]],
      [[160,  46]]],
      dtype=np.int32
    ),
  ]
  return contours

def case_022():
  contours = [np.array([[ 90, 376],
       [ 87, 379],
       [ 87, 380],
       [ 86, 381],
       [ 86, 383],
       [ 85, 384],
       [ 85, 391],
       [ 86, 392],
       [ 86, 393],
       [ 88, 395],
       [ 87, 396],
       [ 87, 409],
       [ 88, 410],
       [ 87, 411],
       [ 88, 412],
       [ 88, 418],
       [ 87, 419],
       [ 87, 432],
       [ 86, 433],
       [ 86, 442],
       [ 85, 443],
       [ 85, 446],
       [106, 446],
       [106, 442],
       [107, 441],
       [107, 434],
       [108, 433],
       [108, 427],
       [109, 426],
       [109, 422],
       [110, 421],
       [110, 419],
       [111, 418],
       [111, 417],
       [112, 416],
       [112, 415],
       [113, 414],
       [113, 413],
       [115, 411],
       [115, 410],
       [116, 409],
       [116, 408],
       [118, 406],
       [118, 405],
       [119, 404],
       [119, 402],
       [120, 401],
       [120, 397],
       [121, 396],
       [121, 393],
       [122, 392],
       [122, 390],
       [121, 389],
       [121, 386],
       [120, 385],
       [119, 385],
       [117, 383],
       [116, 383],
       [115, 382],
       [113, 382],
       [112, 381],
       [110, 381],
       [109, 380],
       [107, 380],
       [106, 381],
       [106, 382],
       [105, 383],
       [ 98, 383],
       [ 95, 380],
       [ 95, 378],
       [ 94, 377],
       [ 92, 377],
       [ 91, 376]], dtype=np.int32), np.array([[182, 373],
       [180, 375],
       [179, 375],
       [178, 376],
       [176, 376],
       [175, 377],
       [173, 377],
       [172, 378],
       [171, 378],
       [169, 380],
       [168, 380],
       [167, 381],
       [166, 381],
       [165, 382],
       [163, 382],
       [162, 383],
       [155, 383],
       [154, 384],
       [150, 384],
       [148, 382],
       [139, 382],
       [138, 383],
       [126, 383],
       [126, 385],
       [125, 386],
       [124, 386],
       [123, 387],
       [123, 388],
       [124, 389],
       [124, 393],
       [123, 394],
       [123, 397],
       [122, 398],
       [122, 402],
       [121, 403],
       [121, 407],
       [122, 408],
       [122, 411],
       [123, 412],
       [123, 414],
       [124, 415],
       [124, 417],
       [125, 418],
       [125, 421],
       [126, 422],
       [126, 426],
       [127, 427],
       [127, 436],
       [128, 437],
       [128, 438],
       [127, 439],
       [128, 440],
       [128, 446],
       [165, 446],
       [165, 444],
       [166, 443],
       [166, 441],
       [167, 440],
       [167, 437],
       [168, 436],
       [168, 434],
       [169, 433],
       [169, 431],
       [170, 430],
       [170, 428],
       [171, 427],
       [171, 426],
       [172, 425],
       [172, 423],
       [173, 422],
       [173, 420],
       [174, 419],
       [174, 418],
       [175, 417],
       [175, 416],
       [176, 415],
       [176, 413],
       [177, 412],
       [177, 409],
       [178, 408],
       [178, 407],
       [177, 406],
       [179, 404],
       [179, 403],
       [180, 402],
       [180, 399],
       [181, 398],
       [181, 397],
       [182, 396],
       [182, 395],
       [183, 394],
       [183, 391],
       [184, 390],
       [184, 386],
       [185, 385],
       [185, 378],
       [184, 377],
       [184, 375]], dtype=np.int32), np.array([[210, 249],
       [209, 250],
       [207, 250],
       [207, 254],
       [206, 255],
       [206, 259],
       [205, 260],
       [205, 264],
       [206, 265],
       [206, 267],
       [205, 268],
       [205, 274],
       [204, 275],
       [204, 277],
       [203, 278],
       [203, 280],
       [202, 281],
       [202, 283],
       [201, 284],
       [201, 286],
       [200, 287],
       [200, 289],
       [199, 290],
       [199, 291],
       [198, 292],
       [198, 293],
       [197, 294],
       [197, 295],
       [196, 296],
       [196, 297],
       [195, 298],
       [195, 299],
       [194, 300],
       [194, 301],
       [192, 303],
       [192, 304],
       [190, 306],
       [190, 307],
       [188, 309],
       [188, 311],
       [187, 312],
       [187, 313],
       [197, 323],
       [198, 323],
       [207, 332],
       [207, 331],
       [208, 330],
       [208, 328],
       [209, 327],
       [209, 321],
       [210, 320],
       [210, 318],
       [211, 317],
       [211, 314],
       [212, 313],
       [212, 311],
       [213, 310],
       [213, 307],
       [214, 306],
       [214, 303],
       [215, 302],
       [215, 300],
       [216, 299],
       [216, 296],
       [217, 295],
       [217, 293],
       [218, 292],
       [218, 290],
       [219, 289],
       [219, 287],
       [220, 286],
       [220, 283],
       [221, 282],
       [221, 280],
       [222, 279],
       [222, 277],
       [223, 276],
       [223, 275],
       [224, 274],
       [224, 272],
       [226, 270],
       [226, 268],
       [228, 266],
       [228, 263],
       [229, 262],
       [229, 256],
       [227, 254],
       [224, 254],
       [223, 253],
       [221, 253],
       [220, 252],
       [218, 252],
       [215, 249]], dtype=np.int32), np.array([[ 76, 229],
       [ 75, 230],
       [ 74, 230],
       [ 73, 231],
       [ 72, 231],
       [ 71, 232],
       [ 70, 232],
       [ 69, 233],
       [ 68, 233],
       [ 67, 234],
       [ 66, 234],
       [ 66, 236],
       [ 65, 237],
       [ 65, 238],
       [ 66, 239],
       [ 66, 245],
       [ 67, 246],
       [ 67, 248],
       [ 68, 249],
       [ 68, 250],
       [ 69, 251],
       [ 69, 253],
       [ 71, 255],
       [ 71, 257],
       [ 72, 258],
       [ 72, 260],
       [ 74, 262],
       [ 74, 264],
       [ 76, 266],
       [ 76, 267],
       [ 77, 268],
       [ 77, 269],
       [ 78, 270],
       [ 78, 271],
       [ 79, 272],
       [ 79, 274],
       [ 80, 275],
       [ 80, 277],
       [ 82, 279],
       [ 82, 281],
       [ 83, 282],
       [ 83, 283],
       [ 84, 284],
       [ 84, 285],
       [ 85, 286],
       [ 85, 287],
       [ 87, 289],
       [ 87, 291],
       [ 88, 292],
       [ 88, 293],
       [ 89, 294],
       [ 89, 296],
       [ 90, 297],
       [ 90, 301],
       [ 91, 302],
       [ 91, 309],
       [ 90, 310],
       [ 90, 312],
       [ 91, 313],
       [ 91, 320],
       [ 92, 321],
       [ 92, 322],
       [ 94, 324],
       [ 94, 325],
       [ 95, 326],
       [ 95, 327],
       [ 96, 328],
       [ 97, 328],
       [ 99, 330],
       [103, 330],
       [104, 329],
       [105, 329],
       [108, 326],
       [109, 326],
       [112, 323],
       [113, 323],
       [116, 320],
       [117, 320],
       [118, 319],
       [117, 318],
       [117, 317],
       [116, 316],
       [116, 314],
       [115, 313],
       [115, 309],
       [110, 304],
       [110, 302],
       [106, 298],
       [106, 297],
       [104, 295],
       [104, 294],
       [103, 293],
       [103, 292],
       [102, 291],
       [102, 290],
       [101, 289],
       [101, 288],
       [100, 287],
       [100, 286],
       [ 98, 284],
       [ 98, 283],
       [ 97, 282],
       [ 97, 281],
       [ 96, 280],
       [ 96, 278],
       [ 95, 277],
       [ 95, 276],
       [ 94, 275],
       [ 94, 273],
       [ 93, 272],
       [ 93, 271],
       [ 92, 270],
       [ 92, 268],
       [ 91, 267],
       [ 91, 265],
       [ 90, 264],
       [ 90, 262],
       [ 89, 261],
       [ 89, 258],
       [ 88, 257],
       [ 88, 255],
       [ 87, 254],
       [ 87, 249],
       [ 86, 248],
       [ 87, 247],
       [ 87, 242],
       [ 88, 241],
       [ 87, 240],
       [ 87, 239],
       [ 88, 238],
       [ 88, 237],
       [ 87, 236],
       [ 87, 235],
       [ 86, 234],
       [ 86, 233],
       [ 85, 232],
       [ 84, 232],
       [ 83, 231],
       [ 82, 231],
       [ 81, 230],
       [ 77, 230]], dtype=np.int32), np.array([[101, 207],
       [ 99, 209],
       [ 98, 209],
       [ 97, 210],
       [ 95, 210],
       [ 94, 211],
       [ 94, 216],
       [ 95, 217],
       [ 95, 226],
       [ 96, 227],
       [ 96, 228],
       [ 97, 229],
       [ 97, 231],
       [ 98, 232],
       [ 98, 235],
       [ 99, 236],
       [ 99, 240],
       [100, 241],
       [100, 243],
       [101, 244],
       [101, 246],
       [102, 247],
       [102, 250],
       [103, 251],
       [103, 253],
       [104, 254],
       [104, 256],
       [105, 257],
       [105, 259],
       [106, 260],
       [106, 263],
       [107, 264],
       [107, 266],
       [108, 267],
       [108, 270],
       [109, 271],
       [109, 273],
       [110, 274],
       [110, 277],
       [111, 278],
       [111, 282],
       [112, 283],
       [112, 286],
       [113, 287],
       [113, 300],
       [112, 301],
       [112, 303],
       [114, 303],
       [115, 304],
       [119, 304],
       [120, 305],
       [125, 305],
       [126, 306],
       [130, 306],
       [131, 307],
       [133, 307],
       [133, 306],
       [132, 305],
       [132, 302],
       [131, 301],
       [131, 298],
       [130, 297],
       [130, 296],
       [129, 295],
       [129, 293],
       [127, 291],
       [127, 290],
       [126, 289],
       [126, 288],
       [125, 287],
       [125, 285],
       [124, 284],
       [124, 283],
       [123, 282],
       [123, 279],
       [122, 278],
       [122, 275],
       [121, 274],
       [121, 271],
       [120, 270],
       [120, 266],
       [119, 265],
       [119, 260],
       [118, 259],
       [118, 255],
       [117, 254],
       [117, 248],
       [116, 247],
       [116, 239],
       [115, 238],
       [115, 230],
       [116, 229],
       [116, 224],
       [117, 223],
       [117, 221],
       [115, 219],
       [115, 218],
       [114, 217],
       [114, 216],
       [112, 214],
       [112, 213],
       [111, 212],
       [111, 209],
       [110, 208],
       [106, 208],
       [105, 207],
       [104, 207],
       [103, 208],
       [102, 208]], dtype=np.int32), np.array([[233, 190],
       [232, 191],
       [230, 191],
       [229, 192],
       [228, 192],
       [227, 193],
       [227, 202],
       [228, 203],
       [228, 209],
       [227, 210],
       [227, 213],
       [225, 215],
       [225, 216],
       [224, 217],
       [224, 218],
       [223, 219],
       [223, 220],
       [222, 221],
       [222, 222],
       [220, 224],
       [220, 225],
       [217, 228],
       [217, 229],
       [214, 232],
       [214, 233],
       [211, 236],
       [209, 236],
       [208, 237],
       [208, 238],
       [206, 240],
       [206, 245],
       [208, 245],
       [209, 246],
       [215, 246],
       [216, 247],
       [217, 247],
       [218, 248],
       [219, 248],
       [220, 249],
       [221, 249],
       [222, 250],
       [225, 250],
       [226, 251],
       [227, 250],
       [228, 251],
       [228, 252],
       [229, 253],
       [230, 252],
       [230, 251],
       [231, 250],
       [231, 249],
       [232, 248],
       [232, 240],
       [233, 239],
       [233, 235],
       [234, 234],
       [234, 231],
       [235, 230],
       [235, 227],
       [236, 226],
       [236, 223],
       [237, 222],
       [237, 220],
       [238, 219],
       [238, 217],
       [239, 216],
       [239, 214],
       [240, 213],
       [240, 212],
       [242, 210],
       [242, 209],
       [246, 205],
       [246, 204],
       [245, 203],
       [245, 202],
       [246, 201],
       [246, 200],
       [245, 199],
       [246, 198],
       [245, 197],
       [244, 197],
       [243, 196],
       [242, 196],
       [237, 191],
       [236, 191],
       [235, 190]], dtype=np.int32), np.array([[170, 190],
       [169, 191],
       [168, 191],
       [168, 194],
       [167, 195],
       [167, 197],
       [166, 198],
       [166, 200],
       [165, 201],
       [165, 209],
       [166, 210],
       [166, 216],
       [167, 217],
       [167, 272],
       [166, 273],
       [166, 281],
       [165, 282],
       [165, 287],
       [164, 288],
       [164, 291],
       [163, 292],
       [163, 294],
       [162, 295],
       [162, 296],
       [161, 297],
       [161, 298],
       [160, 299],
       [160, 302],
       [159, 303],
       [159, 306],
       [158, 307],
       [160, 307],
       [161, 308],
       [164, 308],
       [165, 309],
       [168, 309],
       [169, 310],
       [173, 310],
       [174, 311],
       [177, 311],
       [178, 312],
       [181, 312],
       [182, 313],
       [185, 313],
       [185, 311],
       [186, 310],
       [186, 308],
       [185, 307],
       [185, 306],
       [184, 305],
       [184, 304],
       [183, 303],
       [183, 302],
       [182, 301],
       [182, 299],
       [181, 298],
       [181, 294],
       [180, 293],
       [180, 266],
       [181, 265],
       [181, 257],
       [182, 256],
       [182, 249],
       [183, 248],
       [183, 240],
       [184, 239],
       [184, 233],
       [185, 232],
       [185, 227],
       [186, 226],
       [186, 220],
       [187, 219],
       [187, 217],
       [188, 216],
       [188, 214],
       [189, 213],
       [189, 204],
       [188, 203],
       [188, 200],
       [187, 199],
       [187, 198],
       [186, 197],
       [186, 196],
       [184, 194],
       [184, 193],
       [182, 191],
       [180, 191],
       [179, 190]], dtype=np.int32), np.array([[150, 186],
       [150, 188],
       [148, 190],
       [146, 190],
       [149, 190],
       [150, 189]], dtype=np.int32), np.array([[ 62, 167],
       [ 61, 168],
       [ 59, 168],
       [ 58, 169],
       [ 57, 169],
       [ 56, 170],
       [ 54, 170],
       [ 53, 171],
       [ 51, 171],
       [ 51, 178],
       [ 52, 179],
       [ 52, 180],
       [ 53, 181],
       [ 53, 182],
       [ 54, 183],
       [ 54, 184],
       [ 55, 185],
       [ 55, 186],
       [ 56, 187],
       [ 56, 189],
       [ 57, 190],
       [ 57, 193],
       [ 58, 194],
       [ 58, 198],
       [ 59, 199],
       [ 59, 205],
       [ 60, 206],
       [ 60, 230],
       [ 62, 232],
       [ 66, 232],
       [ 67, 231],
       [ 68, 231],
       [ 70, 229],
       [ 71, 229],
       [ 72, 228],
       [ 73, 228],
       [ 74, 227],
       [ 75, 227],
       [ 76, 226],
       [ 77, 227],
       [ 83, 227],
       [ 84, 226],
       [ 85, 226],
       [ 85, 224],
       [ 86, 223],
       [ 85, 222],
       [ 85, 220],
       [ 84, 219],
       [ 84, 218],
       [ 80, 214],
       [ 80, 213],
       [ 77, 210],
       [ 77, 209],
       [ 76, 208],
       [ 76, 207],
       [ 75, 206],
       [ 75, 205],
       [ 74, 204],
       [ 74, 203],
       [ 73, 202],
       [ 73, 201],
       [ 72, 200],
       [ 72, 198],
       [ 71, 197],
       [ 71, 195],
       [ 70, 194],
       [ 70, 193],
       [ 69, 192],
       [ 69, 189],
       [ 68, 188],
       [ 68, 185],
       [ 67, 184],
       [ 67, 180],
       [ 66, 179],
       [ 66, 177],
       [ 67, 176],
       [ 67, 174],
       [ 66, 173],
       [ 66, 172],
       [ 65, 171],
       [ 65, 169],
       [ 64, 168],
       [ 64, 167]], dtype=np.int32), np.array([[267, 163],
       [266, 164],
       [265, 164],
       [264, 165],
       [264, 166],
       [262, 168],
       [261, 168],
       [260, 169],
       [259, 169],
       [256, 172],
       [255, 172],
       [253, 174],
       [252, 174],
       [250, 176],
       [249, 176],
       [247, 178],
       [246, 178],
       [245, 179],
       [244, 179],
       [243, 180],
       [238, 180],
       [235, 183],
       [235, 187],
       [236, 188],
       [237, 188],
       [238, 189],
       [239, 189],
       [241, 191],
       [241, 192],
       [243, 194],
       [244, 194],
       [245, 195],
       [246, 195],
       [247, 196],
       [248, 196],
       [249, 197],
       [250, 197],
       [251, 196],
       [251, 194],
       [252, 193],
       [252, 192],
       [253, 191],
       [253, 190],
       [254, 189],
       [254, 188],
       [256, 186],
       [256, 185],
       [258, 183],
       [258, 182],
       [272, 168],
       [272, 164],
       [271, 163]], dtype=np.int32), np.array([[ 52, 130],
       [ 51, 131],
       [ 49, 131],
       [ 48, 132],
       [ 47, 132],
       [ 46, 133],
       [ 45, 133],
       [ 44, 134],
       [ 40, 134],
       [ 40, 139],
       [ 41, 140],
       [ 41, 141],
       [ 44, 144],
       [ 44, 146],
       [ 45, 147],
       [ 45, 151],
       [ 46, 152],
       [ 46, 157],
       [ 47, 158],
       [ 47, 165],
       [ 48, 166],
       [ 48, 168],
       [ 55, 168],
       [ 56, 167],
       [ 57, 167],
       [ 60, 164],
       [ 64, 164],
       [ 64, 161],
       [ 62, 159],
       [ 62, 158],
       [ 60, 156],
       [ 60, 155],
       [ 58, 153],
       [ 58, 152],
       [ 57, 151],
       [ 57, 150],
       [ 56, 149],
       [ 56, 148],
       [ 54, 146],
       [ 54, 143],
       [ 53, 142],
       [ 53, 135],
       [ 54, 134],
       [ 53, 133],
       [ 53, 131]], dtype=np.int32), np.array([[ 96, 126],
       [ 95, 127],
       [ 92, 127],
       [ 91, 128],
       [ 89, 128],
       [ 88, 129],
       [ 84, 129],
       [ 82, 131],
       [ 82, 140],
       [ 83, 141],
       [ 83, 142],
       [ 85, 144],
       [ 85, 147],
       [ 86, 148],
       [ 86, 151],
       [ 87, 152],
       [ 87, 158],
       [ 88, 159],
       [ 88, 164],
       [ 89, 165],
       [ 89, 172],
       [ 90, 173],
       [ 90, 194],
       [ 89, 195],
       [ 89, 205],
       [ 90, 206],
       [ 90, 207],
       [ 91, 208],
       [ 95, 208],
       [ 97, 206],
       [ 98, 206],
       [ 99, 205],
       [101, 205],
       [102, 204],
       [108, 204],
       [109, 205],
       [110, 205],
       [111, 206],
       [114, 206],
       [115, 205],
       [115, 204],
       [116, 203],
       [116, 199],
       [115, 198],
       [115, 196],
       [114, 195],
       [114, 194],
       [113, 193],
       [113, 192],
       [112, 191],
       [112, 190],
       [111, 189],
       [111, 188],
       [110, 187],
       [110, 185],
       [108, 183],
       [108, 181],
       [107, 180],
       [107, 178],
       [106, 177],
       [106, 174],
       [105, 173],
       [105, 170],
       [104, 169],
       [104, 165],
       [103, 164],
       [103, 160],
       [102, 159],
       [102, 154],
       [101, 153],
       [101, 145],
       [100, 144],
       [100, 139],
       [101, 138],
       [101, 134],
       [100, 133],
       [100, 132],
       [ 99, 131],
       [ 99, 129],
       [ 98, 128],
       [ 98, 127],
       [ 97, 126]], dtype=np.int32), np.array([[169, 111],
       [168, 112],
       [168, 118],
       [167, 119],
       [167, 123],
       [168, 124],
       [168, 128],
       [169, 129],
       [169, 148],
       [168, 149],
       [168, 157],
       [167, 158],
       [167, 165],
       [166, 166],
       [166, 170],
       [165, 171],
       [165, 174],
       [164, 175],
       [164, 177],
       [163, 178],
       [163, 179],
       [162, 180],
       [162, 186],
       [163, 187],
       [163, 188],
       [164, 189],
       [168, 189],
       [169, 188],
       [181, 188],
       [182, 189],
       [186, 189],
       [187, 190],
       [188, 189],
       [190, 189],
       [191, 188],
       [191, 185],
       [192, 184],
       [191, 183],
       [191, 180],
       [190, 179],
       [190, 178],
       [189, 177],
       [189, 176],
       [188, 175],
       [188, 174],
       [187, 173],
       [187, 171],
       [186, 170],
       [186, 167],
       [185, 166],
       [185, 162],
       [184, 161],
       [184, 154],
       [183, 153],
       [183, 132],
       [184, 131],
       [184, 128],
       [185, 127],
       [185, 125],
       [186, 124],
       [186, 115],
       [185, 114],
       [185, 113],
       [184, 113],
       [183, 112],
       [174, 112],
       [173, 111]], dtype=np.int32), np.array([[ 38, 103],
       [ 38, 104],
       [ 37, 105],
       [ 37, 110],
       [ 38, 111],
       [ 38, 115],
       [ 39, 116],
       [ 39, 126],
       [ 38, 127],
       [ 38, 129],
       [ 39, 130],
       [ 39, 132],
       [ 42, 132],
       [ 43, 131],
       [ 45, 131],
       [ 46, 130],
       [ 47, 130],
       [ 48, 129],
       [ 49, 129],
       [ 50, 128],
       [ 51, 128],
       [ 52, 127],
       [ 52, 125],
       [ 51, 124],
       [ 51, 123],
       [ 50, 123],
       [ 49, 122],
       [ 49, 121],
       [ 47, 119],
       [ 47, 118],
       [ 45, 116],
       [ 45, 113],
       [ 44, 112],
       [ 44, 105],
       [ 43, 105],
       [ 41, 103]], dtype=np.int32), np.array([[123, 101],
       [122, 102],
       [120, 102],
       [118, 104],
       [106, 104],
       [106, 105],
       [108, 107],
       [109, 107],
       [110, 108],
       [110, 117],
       [111, 118],
       [111, 120],
       [112, 121],
       [112, 122],
       [113, 123],
       [113, 125],
       [114, 126],
       [114, 129],
       [115, 130],
       [115, 134],
       [116, 135],
       [116, 139],
       [117, 140],
       [117, 145],
       [118, 146],
       [118, 150],
       [119, 151],
       [119, 157],
       [120, 158],
       [120, 168],
       [121, 169],
       [121, 172],
       [120, 173],
       [120, 187],
       [121, 188],
       [121, 190],
       [122, 190],
       [123, 191],
       [127, 191],
       [128, 192],
       [127, 193],
       [126, 193],
       [126, 195],
       [125, 196],
       [125, 203],
       [124, 204],
       [124, 205],
       [123, 206],
       [124, 207],
       [124, 211],
       [125, 212],
       [125, 214],
       [126, 215],
       [126, 220],
       [127, 221],
       [127, 226],
       [128, 227],
       [128, 232],
       [129, 233],
       [129, 237],
       [130, 238],
       [130, 242],
       [131, 243],
       [131, 247],
       [132, 248],
       [132, 252],
       [133, 253],
       [133, 259],
       [134, 260],
       [134, 266],
       [135, 267],
       [135, 277],
       [136, 278],
       [136, 293],
       [135, 294],
       [135, 297],
       [133, 299],
       [133, 300],
       [136, 300],
       [137, 301],
       [144, 301],
       [145, 302],
       [152, 302],
       [153, 303],
       [157, 303],
       [157, 300],
       [156, 299],
       [156, 298],
       [155, 297],
       [155, 296],
       [154, 295],
       [154, 294],
       [153, 293],
       [153, 292],
       [152, 291],
       [152, 289],
       [151, 288],
       [151, 286],
       [150, 285],
       [150, 280],
       [149, 279],
       [149, 273],
       [148, 272],
       [148, 254],
       [147, 253],
       [147, 226],
       [148, 225],
       [148, 219],
       [149, 218],
       [149, 215],
       [150, 214],
       [150, 213],
       [151, 212],
       [151, 210],
       [152, 209],
       [152, 203],
       [151, 202],
       [151, 201],
       [150, 200],
       [150, 199],
       [148, 197],
       [148, 196],
       [147, 195],
       [147, 194],
       [146, 194],
       [144, 192],
       [142, 192],
       [140, 190],
       [138, 190],
       [137, 189],
       [130, 189],
       [128, 191],
       [127, 191],
       [126, 190],
       [129, 187],
       [133, 187],
       [134, 186],
       [135, 186],
       [136, 187],
       [139, 187],
       [140, 188],
       [141, 188],
       [142, 189],
       [144, 189],
       [145, 188],
       [146, 188],
       [148, 186],
       [148, 185],
       [149, 184],
       [149, 178],
       [148, 177],
       [148, 176],
       [145, 173],
       [145, 172],
       [143, 170],
       [143, 169],
       [142, 168],
       [142, 167],
       [140, 165],
       [140, 164],
       [139, 163],
       [139, 162],
       [138, 161],
       [138, 159],
       [137, 158],
       [137, 156],
       [136, 155],
       [136, 152],
       [135, 151],
       [135, 149],
       [134, 148],
       [134, 145],
       [133, 144],
       [133, 141],
       [132, 140],
       [132, 136],
       [131, 135],
       [131, 132],
       [130, 131],
       [130, 126],
       [129, 125],
       [129, 112],
       [128, 111],
       [128, 110],
       [127, 109],
       [127, 106],
       [126, 105],
       [126, 103],
       [127, 102],
       [127, 101]], dtype=np.int32), np.array([[ 83,  76],
       [ 82,  77],
       [ 81,  77],
       [ 80,  78],
       [ 77,  78],
       [ 76,  79],
       [ 72,  79],
       [ 72,  86],
       [ 73,  87],
       [ 73,  88],
       [ 75,  90],
       [ 75,  91],
       [ 76,  92],
       [ 76,  95],
       [ 77,  96],
       [ 77, 101],
       [ 78, 102],
       [ 78, 122],
       [ 79, 123],
       [ 79, 124],
       [ 78, 125],
       [ 79, 126],
       [ 79, 127],
       [ 81, 127],
       [ 82, 126],
       [ 90, 126],
       [ 91, 125],
       [ 92, 125],
       [ 93, 124],
       [ 94, 124],
       [ 95, 123],
       [ 99, 123],
       [ 99, 120],
       [ 98, 120],
       [ 97, 119],
       [ 97, 115],
       [ 95, 113],
       [ 95, 111],
       [ 94, 110],
       [ 94, 109],
       [ 93, 108],
       [ 93, 107],
       [ 92, 106],
       [ 92, 104],
       [ 91, 103],
       [ 91, 102],
       [ 90, 101],
       [ 90,  99],
       [ 89,  98],
       [ 89,  94],
       [ 88,  93],
       [ 88,  85],
       [ 89,  84],
       [ 89,  80],
       [ 88,  79],
       [ 88,  77],
       [ 87,  76]], dtype=np.int32), np.array([[183,  70],
       [182,  71],
       [170,  71],
       [170,  73],
       [169,  74],
       [169,  77],
       [170,  78],
       [170,  79],
       [171,  80],
       [171,  82],
       [172,  83],
       [172,  91],
       [171,  92],
       [171,  96],
       [170,  97],
       [170,  99],
       [169, 100],
       [169, 102],
       [168, 103],
       [168, 105],
       [167, 106],
       [167, 109],
       [174, 109],
       [175, 110],
       [182, 110],
       [183, 109],
       [187, 109],
       [188, 108],
       [187, 107],
       [187, 104],
       [186, 103],
       [186, 102],
       [185, 101],
       [185,  98],
       [184,  97],
       [184,  92],
       [183,  91],
       [183,  84],
       [184,  83],
       [184,  81],
       [185,  80],
       [185,  78],
       [186,  77],
       [186,  74],
       [185,  73],
       [185,  71],
       [184,  70]], dtype=np.int32), np.array([[112,  53],
       [111,  54],
       [110,  54],
       [109,  55],
       [108,  55],
       [107,  56],
       [105,  56],
       [104,  57],
       [100,  57],
       [100,  58],
       [ 99,  59],
       [ 99,  64],
       [101,  66],
       [101,  68],
       [102,  69],
       [102,  70],
       [103,  71],
       [103,  73],
       [104,  74],
       [104,  81],
       [105,  82],
       [105,  91],
       [106,  92],
       [106, 100],
       [108, 102],
       [117, 102],
       [119, 100],
       [120, 100],
       [121,  99],
       [123,  99],
       [125,  97],
       [125,  92],
       [123,  90],
       [123,  88],
       [122,  87],
       [122,  86],
       [121,  85],
       [121,  84],
       [120,  83],
       [120,  81],
       [118,  79],
       [118,  78],
       [117,  77],
       [117,  75],
       [116,  74],
       [116,  72],
       [115,  71],
       [115,  61],
       [116,  60],
       [116,  57],
       [115,  56],
       [115,  55],
       [113,  53]], dtype=np.int32), np.array([[72, 40],
       [71, 41],
       [70, 41],
       [69, 42],
       [69, 44],
       [68, 45],
       [68, 48],
       [69, 49],
       [69, 50],
       [70, 51],
       [70, 54],
       [71, 55],
       [71, 68],
       [70, 69],
       [70, 76],
       [79, 76],
       [80, 75],
       [81, 75],
       [82, 74],
       [83, 74],
       [84, 73],
       [87, 73],
       [87, 70],
       [86, 69],
       [86, 68],
       [85, 67],
       [85, 66],
       [83, 64],
       [83, 63],
       [82, 62],
       [82, 61],
       [81, 60],
       [81, 59],
       [80, 58],
       [80, 55],
       [79, 54],
       [79, 50],
       [78, 49],
       [78, 43],
       [76, 41],
       [74, 41],
       [73, 40]], dtype=np.int32), np.array([[175,  39],
       [173,  41],
       [173,  57],
       [172,  58],
       [172,  60],
       [171,  61],
       [171,  62],
       [170,  63],
       [170,  67],
       [169,  68],
       [170,  69],
       [181,  69],
       [182,  68],
       [186,  68],
       [186,  64],
       [185,  63],
       [185,  62],
       [183,  60],
       [183,  59],
       [182,  58],
       [182,  54],
       [181,  53],
       [181,  51],
       [182,  50],
       [182,  47],
       [181,  46],
       [181,  45],
       [182,  44],
       [182,  43],
       [181,  42],
       [181,  41],
       [179,  39]], dtype=np.int32), np.array([[ 95,  21],
       [ 92,  24],
       [ 92,  29],
       [ 93,  30],
       [ 93,  31],
       [ 94,  32],
       [ 94,  33],
       [ 95,  34],
       [ 95,  35],
       [ 96,  36],
       [ 96,  40],
       [ 97,  41],
       [ 97,  49],
       [ 96,  50],
       [ 96,  51],
       [ 98,  53],
       [ 98,  54],
       [ 97,  55],
       [103,  55],
       [104,  54],
       [106,  54],
       [107,  53],
       [108,  53],
       [109,  52],
       [110,  52],
       [111,  51],
       [112,  51],
       [113,  50],
       [113,  46],
       [107,  40],
       [107,  39],
       [106,  38],
       [106,  37],
       [105,  36],
       [105,  35],
       [104,  34],
       [104,  33],
       [103,  32],
       [103,  25],
       [ 99,  21]], dtype=np.int32)]
  return contours

def visualize_tags_main():
  segments = case_004()
  show_segment_tags(segments, '004 radiography tags.')

  segments = case_022()
  show_segment_tags(segments, '022 radiography tags.')
  plt.show()
